# 📊 엑셀 업로드 서식 가이드

## ⚠️ 중요 사항
1. **첫 번째 행(헤더)은 절대 수정하지 마세요!**
2. **컬럼명의 철자를 정확히 지켜주세요**
3. **필수 항목은 반드시 입력하세요**

---

## 1️⃣ 학생 정보 (students)

### 엑셀 파일 구조
```
A열      B열   C열  D열             E열             F열
이름     학년  반   연락처         부모연락처      주소
김철수   3     1    010-1234-5678  010-9876-5432   서울시 강남구 테헤란로 123
이영희   2     2    010-2345-6789  010-8765-4321   서울시 서초구 서초대로 456
박민수   1     1    010-3456-7890  010-7654-3210   경기도 성남시 분당구 판교역로 789
```

### 필드 설명
| 컬럼명 | 필수여부 | 데이터 타입 | 규칙 | 예시 |
|--------|----------|-------------|------|------|
| 이름 | ✅ 필수 | 텍스트 | 1~50자 | 김철수 |
| 학년 | ✅ 필수 | 숫자 | 1~12 | 3 |
| 반 | ⭕ 선택 | 숫자 | 1~20 | 1 |
| 연락처 | ⭕ 선택 | 텍스트 | 010-0000-0000 형식 | 010-1234-5678 |
| 부모연락처 | ⭕ 선택 | 텍스트 | 010-0000-0000 형식 | 010-9876-5432 |
| 주소 | ⭕ 선택 | 텍스트 | 200자 이하 | 서울시 강남구 |

### ⚠️ 주의사항
- 전화번호는 반드시 하이픈(-)을 포함해야 합니다
- 학년과 반은 숫자만 입력하세요 (문자 불가)

---

## 2️⃣ 성적 정보 (grades)

### 엑셀 파일 구조
```
A열      B열   C열          D열       E열   F열
학생명   과목  학기         시험종류  점수  시험일자
김철수   수학  2025-1학기   중간고사  85    2025-05-15
김철수   영어  2025-1학기   중간고사  90    2025-05-15
이영희   수학  2025-1학기   중간고사  92    2025-05-15
박민수   과학  2025-1학기   기말고사  78    2025-06-20
이영희   영어  2025-1학기   기말고사  95    2025-06-20
```

### 필드 설명
| 컬럼명 | 필수여부 | 데이터 타입 | 규칙 | 예시 |
|--------|----------|-------------|------|------|
| 학생명 | ✅ 필수 | 텍스트 | DB에 등록된 학생 이름 | 김철수 |
| 과목 | ✅ 필수 | 텍스트 | 50자 이하 | 수학 |
| 학기 | ✅ 필수 | 텍스트 | 자유 형식 | 2025-1학기 |
| 시험종류 | ✅ 필수 | 텍스트 | 중간고사/기말고사/모의고사/수행평가 | 중간고사 |
| 점수 | ✅ 필수 | 숫자 | 0~100 | 85 |
| 시험일자 | ✅ 필수 | 날짜 | YYYY-MM-DD 형식 | 2025-05-15 |

### ⚠️ 주의사항
- **학생명은 반드시 DB에 먼저 등록되어 있어야 합니다!**
- 시험종류는 정확히 4가지 중 하나만 입력하세요:
  - `중간고사` ✅
  - `기말고사` ✅
  - `모의고사` ✅
  - `수행평가` ✅
  - `중간` ❌ (불가)
  - `기말` ❌ (불가)
- 시험일자 형식: 2025-05-15 (슬래시(/) 불가, 하이픈(-) 사용)

---

## 3️⃣ 목표 정보 (goals)

### 엑셀 파일 구조
```
A열      B열                    C열       D열       E열
학생명   목표제목              현재점수  목표점수  마감일
김철수   수학 성적 90점 달성   75        90        2025-06-30
이영희   영어 성적 95점 이상   87        95        2025-07-15
박민수   과학 성적 80점 이상   65        80        2025-08-31
```

### 필드 설명
| 컬럼명 | 필수여부 | 데이터 타입 | 규칙 | 예시 |
|--------|----------|-------------|------|------|
| 학생명 | ✅ 필수 | 텍스트 | DB에 등록된 학생 이름 | 김철수 |
| 목표제목 | ✅ 필수 | 텍스트 | 100자 이하 | 수학 성적 90점 달성 |
| 현재점수 | ✅ 필수 | 숫자 | 0~100 | 75 |
| 목표점수 | ✅ 필수 | 숫자 | 0~100 | 90 |
| 마감일 | ✅ 필수 | 날짜 | YYYY-MM-DD 형식 | 2025-06-30 |

### ⚠️ 주의사항
- **학생명은 반드시 DB에 먼저 등록되어 있어야 합니다!**
- 마감일 형식: 2025-06-30 (슬래시(/) 불가, 하이픈(-) 사용)

---

## 🔍 현재 DB 데이터 확인 방법

### 방법 1: Prisma Studio
브라우저에서 http://localhost:5555 접속

### 방법 2: 웹 페이지
- 학생 목록: http://localhost:3000/students
- 성적 목록: http://localhost:3000/grades
- 목표 목록: http://localhost:3000/goals

---

## 📝 업로드 순서 추천

### ✅ 올바른 순서
1. **학생 정보** 먼저 업로드
2. **성적 정보** 업로드 (학생이 이미 등록됨)
3. **목표 정보** 업로드 (학생이 이미 등록됨)

### ❌ 잘못된 순서
❌ 성적/목표를 먼저 업로드하면 "등록되지 않은 학생" 에러 발생!

---

## 🎯 테스트용 샘플 데이터

### 현재 DB에 등록되어 있는 학생 (seed 데이터)
실제로 DB에 어떤 학생이 있는지 확인하려면:
1. http://localhost:3000/students 접속
2. 등록된 학생 이름 확인
3. 그 이름을 성적/목표 엑셀에 사용

또는 새로운 학생을 먼저 업로드하세요!

---

## 💡 자주 하는 실수

### 1. 전화번호 형식 오류
❌ `01012345678` (하이픈 없음)
✅ `010-1234-5678` (하이픈 포함)

### 2. 날짜 형식 오류
❌ `2025/05/15` (슬래시 사용)
❌ `2025.05.15` (점 사용)
✅ `2025-05-15` (하이픈 사용)

### 3. 시험종류 오타
❌ `중간` (불완전)
❌ `중간 고사` (띄어쓰기)
✅ `중간고사` (정확한 단어)

### 4. 학생명 불일치
❌ `김 철수` (띄어쓰기)
❌ `김철 수` (띄어쓰기)
✅ `김철수` (DB에 등록된 정확한 이름)

### 5. 헤더 수정
❌ 첫 번째 행의 컬럼명을 영어로 변경
✅ 첫 번째 행은 절대 수정하지 않기

---

## 🚀 빠른 시작 가이드

1. **템플릿 다운로드**
   - http://localhost:3000/upload 접속
   - 오른쪽 사이드바에서 템플릿 다운로드

2. **데이터 입력**
   - 템플릿 열기
   - 2번째 행부터 데이터 입력 (1번째 행은 헤더)
   - 예시 데이터 참고

3. **업로드**
   - 해당 탭 선택
   - 파일 드래그 또는 선택
   - 결과 확인

4. **에러 처리**
   - 에러가 있으면 빨간색으로 표시
   - 에러 메시지 확인
   - 엑셀 수정 후 재업로드
